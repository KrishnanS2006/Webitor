{% extends "base.html" %} {% block title %}AlgoExperts{% endblock %} {% block
content %}
<form method="POST">
  <h3 align="center">Register yourself</h3>
  <div class="form-group">
    <label for="email">Email Address</label>
    <input
      type="email"
      class="form-control"
      id="email"
      name="email"
      placeholder="Enter Email:"
    />
  </div>
  <div class="form-group">
    <label for="username">Username</label>
    <input
      type="text"
      class="form-control"
      id="username"
      name="username"
      placeholder="Enter Username:"
    />
  </div>
  <div class="form-group">
    <label for="password">Password</label>
    <input
      type="password"
      class="form-control"
      id="password"
      name="password"
      placeholder="Enter Password:"
    />
  </div>
  <br />
  <button type="submit" class="register-btn">Submit</button>
  <div class="g-signin2" data-onsuccess="onSignIn"></div>
</form>

<script src="https://apis.google.com/js/platform.js" async defer></script>
<script>
  function onSignIn(googleUser) {
    console.log("Signing In...");
    var id_token = googleUser.getAuthResponse().id_token;
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "http://localhost:5000/google-auth");
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    xhr.send("idtoken=" + id_token);
    console.log("ID token sent:");
    console.log(id_token);
  }
</script>
{% endblock %}
